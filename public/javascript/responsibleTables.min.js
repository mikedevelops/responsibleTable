"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),ResponsibleTable=function(){function e(t){_classCallCheck(this,e),this.defaults={activeClass:"responsibleTable--active",columnHeadingClass:"responsibleTable__column-heading",containerSelector:".container",subHeadingClass:"responsibleTable__sub-heading",tableDataClass:"responsibleTable__table-data",tableSelector:".responsibleTable"},this.extendDefaults(t,this.defaults),this.originalTables=[].slice.call(document.querySelectorAll(this.defaults.tableSelector)),this.containers=[].slice.call(document.querySelectorAll(this.defaults.containerSelector)),this.columnHeadings=[],this.cache={original:[],responsible:[]},this.init()}return _createClass(e,[{key:"init",value:function(){this.originalTables.map(function(e,t){this.cache.original.push(e.outerHTML);for(var n=document.createDocumentFragment(),a=e.querySelectorAll("tr"),l=a[0].children,i=0;i<l.length;i++)this.columnHeadings.push(l[i].innerHTML);n.appendChild(this.buildFirstRow(e));for(var i=1;i<a.length;i++)n.appendChild(this.buildTableData(e,i));a[0].parentNode.removeChild(a[0]),e.querySelector("tbody").appendChild(n),e.classList.add(this.defaults.activeClass),this.cache.responsible.push(e.outerHTML)}.bind(this))}},{key:"buildFirstRow",value:function(e,t){var n=e.querySelector("th"),a=document.createElement("tr"),l=document.createElement("th");return l.innerHTML=n.innerHTML,l.setAttribute("colspan",2),a.appendChild(l),a}},{key:"buildTableData",value:function(e,t){var n=document.createDocumentFragment(),a=e.querySelectorAll("tr"),l=document.createElement("tr"),i=a[t].querySelectorAll("td"),s=i[0];s.setAttribute("colspan",2),s.classList.add(this.defaults.subHeadingClass),l.appendChild(s),n.appendChild(l);for(var r=1;r<i.length;r++){var o=document.createElement("tr"),c=document.createElement("td");c.innerHTML=this.columnHeadings[r],c.classList.add(this.defaults.columnHeadingClass),o.appendChild(c),i[r].classList.add(this.defaults.tableDataClass),o.appendChild(i[r]),n.appendChild(o)}return n}},{key:"restore",value:function(){this.originalTables.map(function(e,t){e.outerHTML=this.cache.original[t]}.bind(this))}},{key:"extendDefaults",value:function(e,t){if("object"===("undefined"==typeof e?"undefined":_typeof(e)))for(var n in e)t.hasOwnProperty(n)&&(t[n]=e[n])}}]),e}();
//# sourceMappingURL=responsibleTables.min.js.map
